# Gemini Code Assistant

This directory contains internal data types for real-time and streaming features of the FirebaseAI library.
The types here are used for bidirectional communication with the backend, for example, in streaming chat sessions or real-time transcription.

These types are not part of the public API and are subject to change.

### Files:

- **`AsyncWebSocket.swift`**: Provides an async/await wrapper around `URLSessionWebSocketTask` for interacting with web sockets. It simplifies sending and receiving messages and provides a custom error, `WebSocketClosedError`, for when the web socket is closed.

- **`BidiGenerateContentClientContent.swift`**: Defines the `BidiGenerateContentClientContent` struct, which represents an incremental update of the current conversation delivered from the client.

- **`BidiGenerateContentClientMessage.swift`**: Defines the `BidiGenerateContentClientMessage` enum, which represents all possible messages a client can send in a bidirectional streaming RPC. This includes setup, content, real-time input, and tool responses.

- **`BidiGenerateContentRealtimeInput.swift`**: Defines the `BidiGenerateContentRealtimeInput` struct, for user input that is sent in real time, such as audio, video, or text.

- **`BidiGenerateContentServerContent.swift`**: Defines the `BidiGenerateContentServerContent` struct, which is an incremental server update generated by the model in response to client messages.

- **`BidiGenerateContentServerMessage.swift`**: Defines the `BidiGenerateContentServerMessage` struct and its nested `MessageType` enum, representing a response message from the server in a bidirectional streaming RPC. It can be a setup completion, server content, a tool call, a tool call cancellation, or a go-away notification.

- **`BidiGenerateContentSetup.swift`**: Defines the `BidiGenerateContentSetup` struct, which is the first message sent by the client to configure the streaming RPC. It contains the model name, generation config, system instruction, tools, and other settings.

- **`BidiGenerateContentSetupComplete.swift`**: Defines the `BidiGenerateContentSetupComplete` struct, which is an empty struct sent by the server to indicate that the setup is complete.

- **`BidiGenerateContentToolCall.swift`**: Defines the `BidiGenerateContentToolCall` struct, which is a request from the server for the client to execute one or more function calls.

- **`BidiGenerateContentToolCallCancellation.swift`**: Defines the `BidiGenerateContentToolCallCancellation` struct, a notification from the server to cancel a previously issued tool call.

- **`BidiGenerateContentToolResponse.swift`**: Defines the `BidiGenerateContentToolResponse` struct, which is a client-generated response to a `ToolCall` from the server.

- **`BidiGenerateContentTranscription.swift`**: Defines the `BidiGenerateContentTranscription` struct, which contains the transcribed text from an audio input.

- **`BidiGenerationConfig.swift`**: Defines the `BidiGenerationConfig` struct, which holds configuration options for live content generation, such as temperature, topP, topK, etc.

- **`BidiSpeechConfig.swift`**: Defines the `BidiSpeechConfig` struct, for speech generation configuration, including voice configuration and language code.

- **`GoAway.swift`**: Defines the `GoAway` struct, which is a notification from the server that it will disconnect soon, providing the time left before termination.

- **`LiveSessionService.swift`**: Defines the `LiveSessionService` actor, which manages the connection and communication with the backend for a `LiveSession`. It handles setting up the web socket, sending and receiving messages, and managing the session's lifecycle.

- **`VoiceConfig.swift`**: Defines the `VoiceConfig` enum, which represents the configuration for the speaker's voice. It can be either a `prebuiltVoiceConfig` with a voice name or a `customVoiceConfig` with a voice sample.
